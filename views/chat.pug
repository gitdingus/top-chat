extends root 

block styles 
  link(rel='stylesheet' href='/styles/chat.css')

block scripts 
  script(src='/scripts/chat.js' defer)

block content 
  if !user
    p Sign up to start chatting! 
  else 
    h2.section-header Friends
    if user.friends.length > 0 
      ul 
        each entry in user.friends 
          if entry.status == 'friend'
            li 
              p: a(href=`/chat/${entry.chat}`)= entry.friend.username
    else
      p No one has been added to your friends list

    h2.section-header My Rooms 
      span.header-image
        a(href='/chat/create')
          img(src='/images/plus.svg' alt='create chat')

    if usersChatRooms && usersChatRooms.length > 0
      ul 
        each room in usersChatRooms
          li: a(href=`/chat/${room._id}`)= room.name 
    else 
      p You have not created any chat rooms
      
    h2.section-header Public Rooms
    if publicRooms.length > 0
      ul 
        each room in publicRooms 
          li: a(href=`/chat/${room._id}`)= room.name 
    else 
      p There are no public Rooms